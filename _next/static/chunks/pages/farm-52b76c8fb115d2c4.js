(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{4754:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farm",function(){return n(6990)}])},9181:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var i=n(8501),a=n(968),s=n(9657),l=n(959),d=n(6987),u=n(1533);function r(){let{addressInfoOfPools:e,pools:t,ethAmountInLP:n,ethPrice:r}=(0,l.useContext)(a.g),p=(0,u.q)(),o=e&&t&&e.reduce((e,n,a)=>{var s,l,d;return(null===(s=t[a])||void 0===s?void 0:null===(l=s.tokenSymbol)||void 0===l?void 0:l.includes("UNI"))?e:new i.SS(null!=e?e:"0").plus(null!==(d=null==n?void 0:n.totalSupply)&&void 0!==d?d:"0").toString()},0),y=new i.SS(null!=o?o:"0").plus(null!=n?n:"0").plus(null!=n?n:"0").toFixed(),{data:m}=(0,d.KQ)({address:p.treasury,token:p.tokenAddress,chainId:p.chainId});return{tvl:y,ethPrice:r,treasury:(null==m?void 0:m.value)||s.O$.from(0)}}},6990:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return em}});var i=n(1527),a=n(6353),s=n(9061);let l=[{inputs:[{internalType:"contract ISLSDToken",name:"_slsdToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"eslsdAmount",type:"uint256"}],name:"CancelRedeem",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Escrow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"eslsdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"slsdAmount",type:"uint256"}],name:"FinalizeRedeem",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"eslsdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"slsdAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"durationInDays",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fees",type:"uint256"}],name:"RedeemFeesAccrued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RedeemFeesWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"bool",name:"whitelisted",type:"bool"}],name:"UpdateWhitelistAddress",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"redeemIndex",type:"uint256"}],name:"cancelRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"escrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"redeemIndex",type:"uint256"}],name:"finalizeRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"durationInDays",type:"uint256"}],name:"getSLSDAmountByVestingDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"uint256",name:"redeemIndex",type:"uint256"}],name:"getUserRedeem",outputs:[{internalType:"uint256",name:"slsdAmount",type:"uint256"},{internalType:"uint256",name:"eslsdAmount",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"getUserRedeemsLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getWhitelistAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWhitelistAddressesLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isAddressWhitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxRedeemDurationInDays",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minRedeemDurationInDays",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"eslsdAmount",type:"uint256"},{internalType:"uint256",name:"vestingDurationInDays",type:"uint256"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"redeemFees",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"redeemRatioDenominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"redeemRatios",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bool",name:"whitelisted",type:"bool"}],name:"setWhitelistAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slsdToken",outputs:[{internalType:"contract ISLSDToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userRedeems",outputs:[{internalType:"uint256",name:"eslsdAmount",type:"uint256"},{internalType:"uint256",name:"slsdAmount",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"withdrawRedeemFees",outputs:[],stateMutability:"nonpayable",type:"function"}];var d=n(8501),u=n(9657),r=n(959),p=n(5276),o=n(6987),y=n(2354),m=n(1533);let c=[10,30,43,52,58,64,68,72,76,79,82,85,87,89,91,93,95,97,99,100],x=u.O$.from(0);var h=n(4257),f=n(4567),v=n(570),g=n(2822),b=n(3769),w=n(3398),_=n.n(w),T=n(884);let S=(0,h.zo)("div",{height:50,padding:"10px 20px",fontSize:16,display:"flex",alignItems:"center",background:"$mask","& input":{outline:"none",border:"none",flex:1,color:"White",fontSize:16,height:"100%",lineHeight:"30px",whiteSpace:"nowrap",background:"transparent"},"& .symbol":{lineHeight:"30px",padding:"0 10px"},"& .maxbtn":{cursor:"pointer",fontWeight:500,lineHeight:"18px",padding:"6px 10px",background:"White",color:"Black"}});function j(e){let{trigger:t,balance:n,eSLSD:s,account:l}=e,[p,o]=(0,r.useState)(""),[y,m]=(0,r.useState)(20),[x,h]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),j=(0,d.Qt)(p),k=!l||!s||j.lte(0)||j.gt(n)||!y,M=async()=>{if(!k)try{w(!0);let e=await s.allowance(l,s.address);if(e.lt(j)){let e=await s.estimateGas.approve(s.address,f.Bz),t=await s.approve(s.address,f.Bz,{gasLimit:(0,d.MA)(e)});await t.wait()}let t=await s.estimateGas.redeem(j,u.O$.from(y)),n=await s.redeem(j,u.O$.from(y),{gasLimit:(0,d.MA)(t)});await n.wait(),h(!1)}catch(e){console.info("error:",e)}finally{w(!1)}};return(0,i.jsxs)(T.u,{trigger:t,title:"Vesting",open:x,onOpenChange:h,contentStyle:{display:"flex",flexDirection:"column",gap:20,background:"var(--colors-mask)"},children:[(0,i.jsxs)("div",{children:["$eSLSD balance: ",(0,a.dq)(n)," $eSLSD"]}),(0,i.jsxs)(S,{children:[(0,i.jsx)("input",{value:p,onChange:e=>{o(e.target.value)}}),(0,i.jsx)("div",{className:"symbol",children:"$eSLSD"}),(0,i.jsx)("div",{className:"maxbtn",onClick:()=>{o(v.formatEther(n))},children:"Max"})]}),(0,i.jsxs)(S,{children:[(0,i.jsx)("input",{type:"number",value:y,onChange:e=>{let t=parseInt(e.target.value);t>=1&&t<=20?m(t):e.target.value?t<1?m(1):t>20&&m(20):m("")}}),(0,i.jsx)("div",{className:"symbol",children:"days"}),(0,i.jsx)("div",{className:"maxbtn",onClick:()=>{m(20)},children:"Max"})]}),(0,i.jsxs)("div",{children:["Vesting ratio : ",y?c[y-1]:"-","%"," ",(0,i.jsx)(_(),{style:{color:"var(--colors-primary)"},href:"https://docs.slsd.finance/tokenomics/usdeslsd",children:"Read the rule"})]}),(0,i.jsxs)("div",{children:["After Vesting, you will obtain ",y?(0,a.dq)(j.mul(c[y-1]).div(100)):"-"," ","$SLSD"]}),(0,i.jsx)(g.z,{loading:b,disabled:k,style:{width:"100%"},onClick:M,children:"Confirm"})]})}var k=n(6097);let M=(0,h.zo)("div",{height:50,padding:"10px 20px",fontSize:16,display:"flex",alignItems:"center",background:"$mask","& input":{outline:"none",border:"none",flex:1,color:"White",fontSize:16,height:"100%",lineHeight:"30px",whiteSpace:"nowrap",background:"transparent"},"& .symbol":{lineHeight:"30px",padding:"0 10px"},"& .maxbtn":{cursor:"pointer",fontWeight:500,lineHeight:"18px",padding:"6px 10px",background:"White",color:"Black"}});function A(e){let{trigger:t,balance:n,eSLSD:s,account:l}=e,u=(0,m.q)(),{data:p}=(0,o.mx)(),c=(0,o.yL)(),x=(0,o.cq)({abi:y.em,address:u.tokenAddress,signerOrProvider:null!=p?p:c}),[h,b]=(0,r.useState)(""),[w,_]=(0,r.useState)(!1),[S,j]=(0,r.useState)(!1),k=(0,d.Qt)(h),A=!l||!s||!x||k.lte(0)||k.gt(n),N=async()=>{if(!A)try{j(!0);let e=await x.allowance(l,s.address);if(e.lt(k)){let e=await x.estimateGas.approve(s.address,f.Bz),t=await x.approve(s.address,f.Bz,{gasLimit:(0,d.MA)(e)});await t.wait()}let t=await s.estimateGas.escrow(k),n=await s.escrow(k,{gasLimit:(0,d.MA)(t)});await n.wait(),_(!1)}catch(e){console.info("error:",e)}finally{j(!1)}};return(0,i.jsxs)(T.u,{trigger:t,title:"Lock",open:w,onOpenChange:_,contentStyle:{display:"flex",flexDirection:"column",gap:20,background:"var(--colors-mask)"},children:[(0,i.jsxs)("div",{children:["$SLSD balance: ",(0,a.dq)(n)," $SLSD"]}),(0,i.jsxs)(M,{children:[(0,i.jsx)("input",{value:h,onChange:e=>{b(e.target.value)}}),(0,i.jsx)("div",{className:"symbol",children:"$SLSD"}),(0,i.jsx)("div",{className:"maxbtn",onClick:()=>{b(v.formatEther(n))},children:"Max"})]}),(0,i.jsx)(g.z,{loading:S,disabled:A,style:{width:"100%"},onClick:N,children:"Confirm"})]})}let N=(0,h.zo)("div",{height:50,padding:"10px 20px",fontSize:16,display:"flex",alignItems:"center",background:"$mask","& input":{width:0,outline:"none",border:"none",flex:1,minWidth:40,color:"White",fontSize:16,height:"100%",lineHeight:"30px",whiteSpace:"nowrap",background:"transparent"},"& .symbol":{lineHeight:"30px",padding:"0 10px"},"& .maxbtn":{cursor:"pointer",fontWeight:500,lineHeight:"18px",padding:"6px 10px",background:"White",color:"Black"}}),z=(0,h.zo)("div",{display:"grid",gap:20,marginTop:32,gridTemplateColumns:"100%","@lg":{gridTemplateColumns:"calc(50% - 10px) calc(50% - 10px)"}}),L=(0,h.zo)("div",{width:"auto",padding:20,border:"1px solid $primary",display:"flex",gap:20,flexDirection:"column","@lg":{"&:nth-child(3)":{gridColumnStart:1,gridColumnEnd:3}},"& .vest_title":{display:"inline-flex",alignItems:"center",gap:10,fontSize:22,fontWeight:600,lineHeight:"27px"},"& .btn_group":{display:"flex",gap:20,flexWrap:"wrap"}}),C=(0,h.zo)("div",{padding:20,background:"$mask",display:"flex",justifyContent:"space-between",flex:1,fontSize:22,lineHeight:"20px",whiteSpace:"nowrap","@xl":{padding:"20px 50px"},"& .title":{fontWeight:600,color:"#A090FF"},"& .value":{marginTop:10}}),D=(0,h.zo)("div",{display:"flex",flexDirection:"column",overflowX:"auto","& .vp_table":{minWidth:913},"& .vp_header":{fontSize:18,fontWeight:600,lineHeight:1.5,color:"#A091FF",display:"grid",gridTemplateColumns:"repeat(5, 1fr) 1.5fr",whiteSpace:"nowrap"},"& .vp_header_item":{padding:"11.5px 12px"},"& .vp_body_item":{fontSize:18,lineHeight:1.5,display:"grid",whiteSpace:"nowrap",gridTemplateColumns:"repeat(5, 1fr) 1.5fr","&:nth-child(2n+1)":{background:"$mask"}},"& .vp_body:nth-child(2n+1)":{},"& .vp_body_item_child":{padding:"11.5px 12px"}}),$=(0,h.zo)("div",{display:"flex",flexWrap:"wrap",gap:20,"@lg":{flexWrap:"inherit"}});function I(e){let{redeem:t,eSLSD:n}=e,[s,l]=(0,r.useState)(!1),[o,y]=(0,r.useState)(!1),[m,x,h]=(0,r.useMemo)(()=>{let e=t.slsdAmount.mul(1e4).div(t.eslsdAmount).toNumber()/100,n=c.findIndex(t=>.2>Math.abs(e-t));return n>=0?[c[n]/100,n+1,t.endTime.toNumber()-(n+1)*86400]:[1,20,t.endTime.toNumber()-1728e3]},[t]),[f,v]=(0,r.useState)((0,d.cO)().unix());(0,p.Yz)(()=>v((0,d.cO)().unix()),1e3);let b=t.endTime.toNumber()-f,w=(0,r.useMemo)(()=>{if(b<=0)return"0mins";let e=Math.floor(b/60/60),t=Math.floor((b-3600*e)/60);return e>0?"".concat(e,"hrs ").concat(t,"mins"):"".concat(t,"mins")},[b]),_=async()=>{if(n)try{l(!0);let e=await n.estimateGas.cancelRedeem(u.O$.from(t.id)),i=await n.cancelRedeem(u.O$.from(t.id),{gasLimit:(0,d.MA)(e)});await i.wait()}catch(e){}finally{l(!1)}},T=async()=>{if(n)try{y(!0);let e=await n.estimateGas.finalizeRedeem(u.O$.from(t.id)),i=await n.finalizeRedeem(u.O$.from(t.id),{gasLimit:(0,d.MA)(e)});await i.wait()}catch(e){}finally{y(!1)}};return(0,i.jsxs)("div",{className:"vp_body_item",children:[(0,i.jsx)("div",{className:"vp_body_item_child",children:d.cO.unix(h).format("YYYY-MM-DD")}),(0,i.jsxs)("div",{className:"vp_body_item_child",children:[x,"days"]}),(0,i.jsx)("div",{className:"vp_body_item_child",children:w}),(0,i.jsx)("div",{className:"vp_body_item_child",children:m}),(0,i.jsxs)("div",{className:"vp_body_item_child",children:[(0,a.dq)(t.slsdAmount)," $SLSD"]}),(0,i.jsx)("div",{className:"vp_body_item_child",children:(0,i.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,i.jsx)(g.z,{loading:s,onClick:_,disabled:b<=0,style:{height:30,width:90},children:"Cancel"}),(0,i.jsx)(g.z,{loading:o,onClick:T,disabled:b>0,style:{height:30,width:90},children:"Claim"})]})})]})}function R(){let{address:e}=(0,o.mA)(),{redeems:t,balance:n,slsdBalance:c,staked:h,earned:w,apr:_,eSLSD:T,vest:S,vestAllownce:M,doQuery:R}=function(){let{address:e}=(0,o.mA)(),t=function(){let{earnedToken:e}=(0,m.q)(),{data:t}=(0,o.mx)(),n=(0,o.yL)();return(0,o.cq)({address:e,abi:l,signerOrProvider:null!=t?t:n})}(),n=function(){let{tokenAddress:e}=(0,m.q)(),{data:t}=(0,o.mx)(),n=(0,o.yL)();return(0,o.cq)({address:e,abi:y.em,signerOrProvider:null!=t?t:n})}(),i=function(){let{vestPool:e}=(0,m.q)(),{data:t}=(0,o.mx)(),n=(0,o.yL)();return(0,o.cq)({address:e,abi:s.H,signerOrProvider:null!=t?t:n})}(),[a,c]=(0,r.useState)({redeems:[],balance:x,slsdBalance:x,staked:x,earned:x,vestAllownce:x}),{vestPool:h}=(0,m.q)(),{data:f,refetch:v}=(0,o.Dm)({contracts:[{abi:s.H,address:h,functionName:"rewardRate"},{abi:s.H,address:h,functionName:"totalSupply"}],cacheOnBlock:!1}),[g,b]=f||[],w=!b||!g||(null==b?void 0:b.eq(0))||(null==g?void 0:g.eq(0))?"0.00":(0,d.SS)(g.toString()).multipliedBy(31536e3).div((0,d.SS)(b.toString())).multipliedBy(100).toFixed(2),_=async()=>{try{if(!t||!n||!e||!i)return;let a=async()=>{let n=(await t.getUserRedeemsLength(e)).toNumber(),i=[];for(let a=0;a<n;a++){let n=await t.getUserRedeem(e,u.O$.from(a));i.push({...n,id:a})}return i.reverse()},[s,l,d,r,p]=await Promise.all([a(),t.balanceOf(e),n.balanceOf(e),i.balanceOf(e),i.earned(e)]),o=await t.allowance(e,i.address);c({redeems:s,balance:l,slsdBalance:d,staked:r,earned:p,vestAllownce:o})}catch(e){console.error(e)}},T=()=>{v(),_()};return(0,p.Yz)(T,5e3),(0,p.qR)(T),{...a,eSLSD:t,vest:i,doQuery:_,apr:w}}(),[W,O]=(0,r.useState)(!1),[E,q]=(0,r.useState)(!1),[B,F]=(0,r.useState)(!1),[H,Z]=(0,r.useState)(""),[P,V]=(0,r.useState)(""),G=(0,d.Qt)(H),Q=(0,d.Qt)(P),U=G.gt(M),X=!e||!T||!S||G.lte(0)||G.gt(n)||W,Y=!e||!S||Q.lte(0)||Q.gt(h)||B,K=!e||!S||w.lte(0)||B,J=async()=>{if(!X)try{if(O(!0),U){let e=await T.estimateGas.approve(S.address,f.Bz),t=await T.approve(S.address,f.Bz,{gasLimit:(0,d.MA)(e)});await t.wait(),await R()}else{let e=await S.estimateGas.stake(G),t=await S.stake(G,{gasLimit:(0,d.MA)(e)});await t.wait(),await R()}}catch(e){}finally{O(!1)}},ee=async()=>{if(!Y)try{q(!0);let e=await S.estimateGas.withdraw(Q),t=await S.withdraw(Q,{gasLimit:(0,d.MA)(e)});await t.wait(),await R()}catch(e){}finally{q(!1)}},et=async()=>{if(!K)try{F(!0);let e=await S.estimateGas.getReward(),t=await S.getReward({gasLimit:(0,d.MA)(e)});await t.wait(),await R()}catch(e){}finally{F(!1)}};return(0,i.jsxs)("div",{style:{marginTop:60},children:[(0,i.jsx)(b.Dx,{children:"Vest"}),(0,i.jsxs)(z,{children:[(0,i.jsxs)(L,{children:[(0,i.jsx)("div",{className:"vest_title",children:"Conversion between $SLSD and $eSLSD"}),(0,i.jsxs)(C,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"title",children:"$eSLSD balance"}),(0,i.jsxs)("div",{className:"value",children:[(0,a.dq)(n.toString())," $eSLSD"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"title",children:"Staked $eSLSD"}),(0,i.jsxs)("div",{className:"value",children:[(0,a.dq)(h)," $eSLSD"]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:20},children:[(0,i.jsx)(A,{account:e,eSLSD:T,balance:c,trigger:(0,i.jsx)(g.z,{style:{flex:1},children:"Lock"})}),(0,i.jsx)(j,{account:e,eSLSD:T,balance:n,trigger:(0,i.jsx)(g.z,{style:{flex:1},children:"Vest"})})]})]}),(0,i.jsxs)(L,{children:[(0,i.jsxs)("div",{className:"vest_title",children:[(0,i.jsx)("span",{children:"Stake $eSLSD to earn Dimond hand rewards"}),(0,i.jsx)(k.u,{children:"The holders of $eSLSD share the losses of vesting"})]}),(0,i.jsxs)(C,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"title",children:"Earned"}),(0,i.jsxs)("div",{className:"value",children:[(0,a.dq)(w)," $eSLSD"]})]}),(0,i.jsx)(g.z,{style:{height:50},onClick:et,loading:B,disabled:K,children:"Claim"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"title",children:"APR"}),(0,i.jsxs)("div",{className:"value",children:[_,"%"]})]})]}),(0,i.jsxs)($,{children:[(0,i.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:20},children:[(0,i.jsxs)(N,{children:[(0,i.jsx)("input",{value:H,onChange:e=>Z(e.target.value)}),(0,i.jsx)("div",{className:"symbol",children:"$eSLSD"}),(0,i.jsx)("div",{className:"maxbtn",onClick:()=>Z(v.formatEther(n)),children:"Max"})]}),(0,i.jsx)(g.z,{onClick:J,loading:W,disabled:X,style:{width:"100%"},children:U?"Approve":"Stake"})]}),(0,i.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:20},children:[(0,i.jsxs)(N,{children:[(0,i.jsx)("input",{value:P,onChange:e=>V(e.target.value)}),(0,i.jsx)("div",{className:"symbol",children:"$eSLSD"}),(0,i.jsx)("div",{className:"maxbtn",onClick:()=>V(v.formatEther(h)),children:"Max"})]}),(0,i.jsx)(g.z,{onClick:ee,loading:E,disabled:Y,style:{width:"100%"},children:"Withdraw"})]})]})]}),(0,i.jsxs)(L,{children:[(0,i.jsx)("div",{className:"vest_title",children:"Vesting in progress"}),(0,i.jsx)(D,{children:(0,i.jsxs)("div",{className:"vp_table",children:[(0,i.jsxs)("div",{className:"vp_header",children:[(0,i.jsx)("div",{className:"vp_header_item",children:"Start from"}),(0,i.jsx)("div",{className:"vp_header_item",children:"Duration"}),(0,i.jsx)("div",{className:"vp_header_item",children:"Count down"}),(0,i.jsx)("div",{className:"vp_header_item",children:"Vest ratio"}),(0,i.jsx)("div",{className:"vp_header_item",children:"Final Amount"}),(0,i.jsx)("div",{className:"vp_header_item"})]}),(0,i.jsx)("div",{className:"vp_body",children:t.map((e,t)=>(0,i.jsx)(I,{redeem:e,eSLSD:T},"vp_"+t))})]})})]})]})]})}var W=n(9865);let O=[{name:"TokenExchange",inputs:[{name:"buyer",type:"address",indexed:!0},{name:"sold_id",type:"int128",indexed:!1},{name:"tokens_sold",type:"uint256",indexed:!1},{name:"bought_id",type:"int128",indexed:!1},{name:"tokens_bought",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"AddLiquidity",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[4]",indexed:!1},{name:"fees",type:"uint256[4]",indexed:!1},{name:"invariant",type:"uint256",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[4]",indexed:!1},{name:"fees",type:"uint256[4]",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidityOne",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amount",type:"uint256",indexed:!1},{name:"coin_amount",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidityImbalance",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[4]",indexed:!1},{name:"fees",type:"uint256[4]",indexed:!1},{name:"invariant",type:"uint256",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"CommitNewAdmin",inputs:[{name:"deadline",type:"uint256",indexed:!0},{name:"admin",type:"address",indexed:!0}],anonymous:!1,type:"event"},{name:"NewAdmin",inputs:[{name:"admin",type:"address",indexed:!0}],anonymous:!1,type:"event"},{name:"CommitNewFee",inputs:[{name:"deadline",type:"uint256",indexed:!0},{name:"fee",type:"uint256",indexed:!1},{name:"admin_fee",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"NewFee",inputs:[{name:"fee",type:"uint256",indexed:!1},{name:"admin_fee",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RampA",inputs:[{name:"old_A",type:"uint256",indexed:!1},{name:"new_A",type:"uint256",indexed:!1},{name:"initial_time",type:"uint256",indexed:!1},{name:"future_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"StopRampA",inputs:[{name:"A",type:"uint256",indexed:!1},{name:"t",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_owner",type:"address"},{name:"_coins",type:"address[4]"},{name:"_pool_token",type:"address"},{name:"_A",type:"uint256"},{name:"_fee",type:"uint256"},{name:"_admin_fee",type:"uint256"}],outputs:[]},{stateMutability:"view",type:"function",name:"A",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"A_precise",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"balances",inputs:[{name:"i",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_virtual_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"calc_token_amount",inputs:[{name:"amounts",type:"uint256[4]"},{name:"is_deposit",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[4]"},{name:"min_mint_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_dy",inputs:[{name:"i",type:"int128"},{name:"j",type:"int128"},{name:"dx",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_dx",inputs:[{name:"i",type:"int128"},{name:"j",type:"int128"},{name:"dy",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"int128"},{name:"j",type:"int128"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"_min_amounts",type:"uint256[4]"}],outputs:[{name:"",type:"uint256[4]"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_imbalance",inputs:[{name:"_amounts",type:"uint256[4]"},{name:"_max_burn_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"calc_withdraw_one_coin",inputs:[{name:"_token_amount",type:"uint256"},{name:"i",type:"int128"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"_token_amount",type:"uint256"},{name:"i",type:"int128"},{name:"_min_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"ramp_A",inputs:[{name:"_future_A",type:"uint256"},{name:"_future_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"stop_ramp_A",inputs:[],outputs:[],gas:154860},{stateMutability:"nonpayable",type:"function",name:"commit_new_fee",inputs:[{name:"new_fee",type:"uint256"},{name:"new_admin_fee",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"apply_new_fee",inputs:[],outputs:[],gas:160702},{stateMutability:"nonpayable",type:"function",name:"revert_new_parameters",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"commit_transfer_ownership",inputs:[{name:"_owner",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"apply_transfer_ownership",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"revert_transfer_ownership",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"withdraw_admin_fees",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"donate_admin_fees",inputs:[],outputs:[],gas:140458},{stateMutability:"nonpayable",type:"function",name:"kill_me",inputs:[],outputs:[],gas:40325},{stateMutability:"nonpayable",type:"function",name:"unkill_me",inputs:[],outputs:[],gas:23162},{stateMutability:"view",type:"function",name:"coins",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"admin_balances",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"lp_token",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"initial_A",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_A",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"initial_A_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_A_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_actions_deadline",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"transfer_ownership_deadline",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_admin_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_owner",inputs:[],outputs:[{name:"",type:"address"}]}],E=[{inputs:[{internalType:"contract RocketStorageInterface",name:"_rocketStorageAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"EtherDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ethAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"TokensBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ethAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"TokensMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rethAmount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositExcess",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"depositExcessCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCollateralRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rethAmount",type:"uint256"}],name:"getEthValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExchangeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_ethAmount",type:"uint256"}],name:"getRethValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_ethAmount",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],q=()=>{let e={address:W.mp[(0,W.ZA)()],abi:O,chainId:(0,W.ZA)()},{data:t}=(0,o.Dm)({contracts:[...W.wc.map((t,n)=>({...e,functionName:"balances",args:[n]}))],watch:!0,cacheOnBlock:!1});return{balances:t}};var B=n(1232),F=n(4637),H=n.n(F),Z=n(8957),P=n.n(Z);H().extend(P());let V=()=>{var e;let{data:t}=(0,o.Ov)({chainId:(0,W.ZA)()}),{data:n}=(0,o.Dm)({contracts:[{address:W.mp[(0,W.ZA)()],abi:O,functionName:"get_virtual_price",chainId:(0,W.ZA)()},{address:W.wc[3].address[(0,W.ZA)()],abi:E,functionName:"getExchangeRate",chainId:(0,W.ZA)()}]}),i=null==n?void 0:null===(e=n[1])||void 0===e?void 0:e.toString(),{balances:a}=q(),{data:s}=(0,o.do)({address:W.vQ[(0,W.ZA)()],abi:y.em,functionName:"totalSupply",chainId:(0,W.ZA)()}),l=H()().unix(),d=H()().utc().startOf("day").unix(),u=(0,r.useMemo)(()=>{if(t)return t-Number(new B.Z((l-d)/12).toFixed(0))},[t]),p=(0,r.useMemo)(()=>{if(u)return u-7200},[u]),{data:m}=(0,o.do)({address:W.mp[(0,W.ZA)()],abi:O,functionName:"get_virtual_price",chainId:(0,W.ZA)(),enabled:!!p&&p>0,overrides:{blockTag:p}}),c=m||v.parseEther("1"),{data:x}=(0,o.do)({address:W.mp[(0,W.ZA)()],abi:O,functionName:"get_virtual_price",chainId:(0,W.ZA)(),enabled:!!u&&u>0,overrides:{blockTag:u}}),h=x||v.parseEther("1"),f=(0,r.useMemo)(()=>{if(a&&s){let e=a.reduce((e,t,n)=>{let a="rETH"===W.wc[n].symbol?new B.Z(i||"1").div(1e18).toFixed():"1";return e.plus(new B.Z(t?t.toString():"0").multipliedBy(null!=a?a:"1"))},new B.Z(0));return e.div(s.toString()).multipliedBy(1e18).toFixed()}return new B.Z(1e18).toFixed()},[s,a]),g=(0,r.useMemo)(()=>{if(h&&c){var e,t;return h&&c&&new B.Z(null!==(e=null==h?void 0:h.toString())&&void 0!==e?e:"0").minus(null!==(t=null==c?void 0:c.toString())&&void 0!==t?t:"0")}},[h,c]),b=(0,r.useMemo)(()=>g&&c?g.div(c.toString()).multipliedBy(36500).toFixed(2):"0.00",[g,c]);return{virtualPrice:h,baseAPR:b,rRate:i,balances:a,ethxTotalSupply:s,ethxPrice:f}};var G=n(968);let Q=(0,h.zo)("div",{width:"100%",height:"100%",display:"flex",flexDirection:"column"}),U=(0,h.zo)("div",{display:"flex",flexDirection:"column",width:"100%",padding:20,gap:20,"& .title_info":{display:"flex",alignItems:"center",justifyContent:"space-between"},"& .icon_name":{display:"flex",alignItems:"center",gap:10},"& .icon":{},"& .name":{fontWeight:500,fontSize:22,lineHeight:"27px"},"& .earn":{fontSize:18,lineHeight:"22px"},"& .infos":{padding:20,background:"$mask",display:"flex",justifyContent:"space-between"},"& .title":{fontWeight:600,fontSize:16,lineHeight:"20px",color:"#A090FF"},"& .value":{marginTop:10,fontSize:16,lineHeight:"20px"}}),X=(0,h.zo)("div",{display:"flex",flexDirection:"column",width:"100%",padding:20,gap:20,height:200,"& .balance":{fontSize:16,lineHeight:"19px",display:"inline-flex",justifyContent:"space-between"},"& .earned":{flex:1,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,lineHeight:"19px"}}),Y=(0,h.zo)("div",{height:50,padding:"10px 20px",fontSize:16,display:"flex",alignItems:"center",background:"$mask","& input":{outline:"none",border:"none",flex:1,color:"White",fontSize:16,height:"100%",lineHeight:"30px",whiteSpace:"nowrap",background:"transparent"},"& .symbol":{lineHeight:"30px",padding:"0 10px"},"& .maxbtn":{cursor:"pointer",fontWeight:500,lineHeight:"18px",padding:"6px 10px",background:"White",color:"Black"}}),K=(0,h.zo)("div",{display:"flex",border:"1px solid $primary",height:52}),J=e=>{switch(e){case"SLSD-ETH UNI LP":return(0,i.jsx)("img",{className:"icon",src:"/icons/eth.png",width:32,height:32,alt:"icon"});case"UNI-V2":return(0,i.jsx)("img",{className:"icon",src:"/icons/lsd_eth_uni_v2_lp.png",alt:"lp",width:"auto",height:32});default:return(0,i.jsx)("img",{className:"icon",src:"/icons/".concat(e.toLowerCase(),".png"),width:32,height:32,alt:"icon"})}};function ee(e){var t;let{pool:n,addressInfoOfPool:l}=e,{ethPrice:m,lsdPrice:c,lpPrice:x,refresh:h}=(0,r.useContext)(G.g),{data:w}=(0,o.mx)(),{ethxPrice:T}=V(),[S,j]=(0,r.useState)("Stake"),k=!!(null==n?void 0:null===(t=n.tokenSymbol)||void 0===t?void 0:t.includes("UNI")),M=k?x:(null==n?void 0:n.tokenSymbol.includes("ETHx"))?new B.Z(null!=T?T:"1").multipliedBy(m).div(1e18).toFixed(2):m,A=(0,r.useMemo)(()=>(null==l?void 0:l.totalSupply)&&m?k?(console.info("lp price:",x),"$"+new B.Z(l.totalSupply).multipliedBy(x).div(1e18).toFormat(0)):"$"+new B.Z(l.totalSupply).multipliedBy(M).div(1e18).toFormat(0):"0",[null==l?void 0:l.totalSupply,M,k,c]),N=(0,o.cq)({address:n.tokenAddress,abi:y.em,signerOrProvider:w}),z=(0,r.useMemo)(()=>{if((null==l?void 0:l.periodFinish)<H()().unix())return"0.00";console.info("price:",M,x);let e=M;k&&(e=x);let t=new B.Z(null==l?void 0:l.rewardRate).multipliedBy(31536e3).multipliedBy(c),n=new B.Z(null==l?void 0:l.totalSupply).multipliedBy(e);return n.eq(0)?"0.00":t.div(n).multipliedBy(100).toFixed(2)},[l,n,m,k]),L=async()=>{if(!$)return;let e=(0,d.Qt)(en.get("stake"));e.eq(0)||await $.estimateGas.stake(e,{value:"ETH"===n.tokenSymbol?e:0}).then(async t=>{let i=await $.stake(e,{value:"ETH"===n.tokenSymbol?e:0,gasLimit:(0,d.MA)(t)});await i.wait(),await h()}).catch(e=>console.error("Stake: ",e))},C=async()=>{if(!$)return;let e=(0,d.Qt)(en.get("withdraw"));e.eq(0)||await $.estimateGas.withdraw(e).then(async t=>{let n=await $.withdraw(e,{gasLimit:(0,d.MA)(t)});await n.wait(),await h()}).catch(e=>console.error("Withdraw: ",e))},D=async()=>{N&&await N.estimateGas.approve(n.poolAddress,f.Bz).then(async e=>{let t=await N.approve(n.poolAddress,f.Bz,{gasLimit:(0,d.MA)(e)});await t.wait(),await h(),P(!1)}).catch(e=>console.error("Approve: ",e))},$=(0,o.cq)({address:null==n?void 0:n.poolAddress,abi:s.H,signerOrProvider:w}),I=async()=>{$&&await $.estimateGas.getReward().then(async e=>{let t=await $.getReward({gasLimit:(0,d.MA)(e)});await t.wait(),await h()}).catch(e=>console.error("getReward: ",e))},[R,{height:W}]=(0,p.h4)(),O=(W-10)*Math.tan(30*Math.PI/180),E=O+10,[q,{width:F}]=(0,p.h4)(),[Z,P]=(0,r.useState)(!0),[ee,et]=(0,r.useState)(!1),[en,ei]=(0,p.Sx)([["stake",""],["withdraw",""]]);(0,r.useEffect)(()=>{let e=(0,d.Qt)(en.get("stake"));P(e.lte(0)||e.gt((null==l?void 0:l.tokenAllowance)||0))},[l,en]);let ea="Stake"==S?!w||(0,d.Qt)(en.get("stake")).lte(0)||(0,d.Qt)(en.get("withdraw")).gt((null==l?void 0:l.tokenBalance)||"0"):"Withdraw"==S?!w||(0,d.Qt)(en.get("withdraw")).lte(0)||(0,d.Qt)(en.get("withdraw")).gt((null==l?void 0:l.balanceOf)||"0"):!w||!l||!l.earned||u.O$.from(l.earned).lte(0),es=async()=>{et(!0),"Stake"===S?Z&&"ETH"!==n.tokenSymbol?await D():await L():"Withdraw"==S?await C():await I(),et(!1)},el=e=>{let t=S==e;return(0,i.jsxs)("div",{style:{flex:1,flexShrink:0,display:"flex",height:"100%",position:"relative",left:-O*("Stake"==e?0:"Withdraw"==e?1:2),cursor:"pointer"},onClick:()=>j(e),children:["Stake"!==e&&(0,i.jsx)("div",{style:{width:E,maxWidth:E,height:"100%",flexShrink:0,zIndex:-1,transform:"Withdraw"===e?"skewX(".concat(30,"deg)"):"skewX(-".concat(30,"deg)"),position:"relative",left:E/2,background:t?"var(--colors-primary)":"none",borderLeft:"1px solid var(--colors-primary)"}}),(0,i.jsx)("div",{style:{flex:1,overflow:"hidden",height:"100%",fontWeight:600,lineHeight:"50px",fontSize:22,background:t?"var(--colors-primary)":"transparent",textAlign:"center",color:t?"black":"white"},children:e}),"Claim"!==e&&(0,i.jsx)("div",{style:{width:E,height:"100%",flexShrink:0,zIndex:-1,position:"relative",left:-E/2,transform:"Withdraw"===e?"skewX(-".concat(30,"deg)"):"skewX(".concat(30,"deg)"),background:t?"var(--colors-primary)":"none",borderRight:"1px solid var(--colors-primary)"}})]})},ed=()=>k?(0,i.jsx)(_(),{style:{color:"white"},target:"_blank",href:"https://app.uniswap.org/#/add/v2/0xB668f51f1D63452b566456053fA348c3037E2B1F/ETH",children:"Get LP"}):null;return(0,i.jsx)(b.im,{ref:q,children:(0,i.jsxs)(Q,{children:[(0,i.jsxs)(U,{children:[(0,i.jsxs)("div",{className:"title_info",children:[(0,i.jsxs)("div",{className:"icon_name",children:[J(null==n?void 0:n.tokenSymbol),(0,a.fj)(null==n?void 0:n.tokenSymbol)]}),(0,i.jsx)("div",{className:"earn",children:"Earn $eSLSD"})]}),(0,i.jsxs)("div",{className:"infos",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"title",children:"TVL"}),(0,i.jsx)("div",{className:"value",children:A})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"title",children:"APR"}),(0,i.jsxs)("div",{className:"value",children:[z,"%"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"title",children:"Earned"}),(0,i.jsxs)("div",{className:"value",children:[(0,a.dq)(null==l?void 0:l.earned)," $eSLSD"]})]})]})]}),(0,i.jsxs)(K,{ref:R,style:{width:F+2*O},children:[el("Stake"),el("Withdraw"),el("Claim")]}),(0,i.jsxs)(X,{children:["Stake"==S&&(0,i.jsxs)("div",{className:"balance",children:["Balance: ",(0,a.dq)(null==l?void 0:l.tokenBalance),ed()]}),"Withdraw"==S&&(0,i.jsxs)("div",{className:"balance",children:["Staked: ",(0,a.dq)(null==l?void 0:l.balanceOf),ed()]}),"Claim"==S&&(0,i.jsxs)("div",{className:"earned",children:["Earned: ",(0,a.dq)(null==l?void 0:l.earned)]}),"Claim"!==S&&(0,i.jsxs)(Y,{children:["Stake"===S&&(0,i.jsx)("input",{value:en.get("stake"),onChange:e=>{ei.set("stake",e.target.value);let t=(0,d.Qt)(e.target.value);console.info("allow:",null==l?void 0:l.tokenAllowance),P(t.lte(0)||t.gt((null==l?void 0:l.tokenAllowance)||0))}}),"Withdraw"===S&&(0,i.jsx)("input",{value:en.get("withdraw"),onChange:e=>ei.set("withdraw",e.target.value)}),(0,i.jsx)("div",{className:"symbol",children:k?"LP":n.tokenSymbol}),(0,i.jsx)("div",{className:"maxbtn",onClick:()=>{"Stake"==S?ei.set("stake",v.formatEther((null==l?void 0:l.tokenBalance)||"0")):ei.set("withdraw",v.formatEther((null==l?void 0:l.balanceOf)||"0"))},children:"Max"})]}),(0,i.jsx)(g.z,{disabled:ea,loading:ee,onClick:es,style:{width:"100%"},children:"Stake"==S&&Z&&"ETH"!==n.tokenSymbol?"Approve":S})]})]})})}let et=(0,h.zo)("div",{marginTop:60}),en=(0,h.zo)("div",{marginTop:32,gap:24,rowGap:32,display:"flex",flexWrap:"wrap",justifyContent:"center"}),ei=(0,h.zo)(b.im,{height:436,display:"flex",fontSize:22,textAlign:"center",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:80});function ea(){let{pools:e,addressInfoOfPools:t}=(0,r.useContext)(G.g);return(0,i.jsxs)(et,{className:"farms",children:[(0,i.jsx)(b.Dx,{children:"Farm"}),(0,i.jsx)(en,{children:e&&t&&(0,i.jsxs)(i.Fragment,{children:[e.map((e,n)=>(0,i.jsx)(ee,{pool:e,addressInfoOfPool:t[n]},"farm_"+n)),(0,i.jsxs)(ei,{children:[(0,i.jsxs)("div",{children:["Want to list your",(0,i.jsx)("br",{}),"LSD project?"]}),(0,i.jsx)(_(),{style:{color:"white"},target:"_blank",href:"https://discord.gg/H7bcXp3c",children:"Apply now"})]})]})})]})}(0,h.zo)("svg",{fill:"$title",width:17,height:16,viewBox:"0 0 17 16",xmlns:"http://www.w3.org/2000/svg"});let es=(0,h.zo)("div",{display:"flex",flexDirection:"column",alignItems:"center",gap:10,textAlign:"center","@md":{gap:20}}),el=(0,h.zo)("div",{color:"$title",fontWeight:700,fontSize:36}),ed=(0,h.zo)("div",{color:"$title",fontSize:18});function eu(e){let{underTip:t}=e;return(0,i.jsxs)(es,{style:e.style,children:[(0,i.jsx)(ed,{children:e.title}),(0,i.jsxs)(el,{children:[e.value,!!t&&(0,i.jsx)("span",{style:{position:"relative",marginLeft:2,fontSize:12,padding:"0 4px",lineHeight:"14px",background:"#A091FF"},children:t})]})]})}var er=n(9181);let ep=(0,h.zo)("div",{});function eo(){let e=(0,m.q)(),{data:t}=(0,o.dQ)({address:e.tokenAddress,chainId:e.chainId}),{data:n}=(0,o.KQ)({token:e.tokenAddress,address:"0xEF6AcE8a256e753efBdEC3b90Cd9c12f2Ed53d5c"}),{data:s}=(0,o.do)({abi:y.em,functionName:"totalSupply",address:e.tokenAddress,watch:!0}),{data:l}=(0,o.do)({abi:y.em,functionName:"totalSupply",address:e.earnedToken,watch:!0}),{lsdPrice:u,poolLsdBalanceOfs:p}=(0,r.useContext)(G.g),{tvl:c,ethPrice:x,treasury:h}=(0,er.$)(),f=(0,r.useMemo)(()=>{if(!p)return;let e=new B.Z(0);for(let t=0;t<(null==p?void 0:p.length);t++)e=e.plus(new B.Z(p[t]));return e.toFixed()},[p]);console.info("totalSupply:",null==s?void 0:s.toString(),null==l?void 0:l.toString());let g=s&&l&&n?new B.Z(s.sub(h).sub(l).sub(n.value).add(v.parseEther("50000")).toString()).multipliedBy(u).div(1e18).toFormat(0):"0";new B.Z(49225e3*1e18).minus(null!=f?f:"0").toFixed();let w=new B.Z(u||"0").toFormat(2),_=[{value:"$"+w,title:"$SLSD Price"},{value:"$"+g,title:"$SLSD Circulation Supply"},{value:"$"+(0,a.dq)(new d.SS(c).multipliedBy(x),18,0),title:"TVL"},{value:(0,a.dq)(h,18,0)+" $SLSD",title:"Treasury",underTip:"Locked"}];return(0,i.jsx)(ep,{className:"statistics",children:(0,i.jsx)(b.Zt,{children:_.map((e,t)=>(0,i.jsx)(eu,{underTip:e.underTip,value:e.value,title:e.title},t))})})}(0,h.zo)("a",{display:"flex",width:36,height:36,alignItems:"center",justifyContent:"center",cursor:"pointer",color:"$title",background:"$mask",borderRadius:6});let ey=(0,h.zo)("section",{padding:"120px 24px",margin:"0 auto",zIndex:1,position:"relative",maxWidth:1440,"@lg":{padding:"120x 32px"}});function em(){return(0,i.jsxs)(ey,{style:{position:"relative",zIndex:100},children:[(0,i.jsx)(eo,{}),(0,i.jsx)(ea,{}),(0,i.jsx)(R,{})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4754)}),_N_E=e.O()}]);